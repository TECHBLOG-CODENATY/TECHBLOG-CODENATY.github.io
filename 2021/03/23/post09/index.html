

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="G4EG4EGAE">
  <meta name="keywords" content="">
  
    <meta name="description" content="[블록체인] 블록   서론앞선 포스팅에서는 트랜잭션에 대해서 언급한 바 있다. 트랜잭션의 경우 아직 지불되지 않은 목록인 UTXO라는 트랜잭션 집합을 가지고 있으며 실제로 유효한 거래일 경우 이를 블록체인 네트워크 상에 올릴 수 있도록 수행한다. 하지만 이러한 트랜잭션의 경우는 이중 지불 문제가 발생할 수도 있다. 트랜잭션의 순서를 정하여 비트코인을 사용하">
<meta property="og:type" content="article">
<meta property="og:title" content="[블록체인] 블록">
<meta property="og:url" content="http://techblog.codenaty.io/2021/03/23/post09/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="[블록체인] 블록   서론앞선 포스팅에서는 트랜잭션에 대해서 언급한 바 있다. 트랜잭션의 경우 아직 지불되지 않은 목록인 UTXO라는 트랜잭션 집합을 가지고 있으며 실제로 유효한 거래일 경우 이를 블록체인 네트워크 상에 올릴 수 있도록 수행한다. 하지만 이러한 트랜잭션의 경우는 이중 지불 문제가 발생할 수도 있다. 트랜잭션의 순서를 정하여 비트코인을 사용하">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://techblog.codenaty.io/img/contents/illon.jpg">
<meta property="article:published_time" content="2021-03-22T15:51:13.000Z">
<meta property="article:modified_time" content="2022-03-28T11:55:32.493Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="blockchain">
<meta property="article:tag" content="block">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://techblog.codenaty.io/img/contents/illon.jpg">
  
  
  <title>[블록체인] 블록 - Hexo</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"techblog.codenaty.io","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>CODENATY 기술 블로그</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="[블록체인] 블록">
              
            </span>

            
              <div class="mt-3">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-author" aria-hidden="true"></i>
      G4EG4EGAE
    </span>
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-03-23 00:51" pubdate>
        2021-03-23 00:03:00
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4.4k words
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      37 minute
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">[블록체인] 블록</h1>
            
            <div class="markdown-body">
              <h2 id="블록체인-블록"><a href="#블록체인-블록" class="headerlink" title="[블록체인] 블록"></a>[블록체인] 블록</h2><p><img src="/img/contents/illon.jpg" srcset="/img/loading.gif" lazyload></p>
</br>

<h2 id="서론"><a href="#서론" class="headerlink" title="서론"></a>서론</h2><p>앞선 포스팅에서는 트랜잭션에 대해서 언급한 바 있다. 트랜잭션의 경우 아직 지불되지 않은 목록인 UTXO라는 트랜잭션 집합을 가지고 있으며 실제로 유효한 거래일 경우 이를 블록체인 네트워크 상에 올릴 수 있도록 수행한다. 하지만 이러한 트랜잭션의 경우는 이중 지불 문제가 발생할 수도 있다. 트랜잭션의 순서를 정하여 비트코인을 사용하려는 트랜잭션 중 첫 번째 것만 유효하고 나머지를 무효로 간주한다면 이를 해결할 수 있다. 이를 블록이라고 한다. 블록은 실시간$^{realtime}$으로 순서가 정해질 경우 좋을 수 있지만 이는 효율적이지 않기 때문에 트랜잭션을 10분마다 정산하도록 한다. 해당 포스팅에서는 블록의 구성내용을 확인해보려고 한다.</p>
</br>

<h2 id="코인베이스-트랜잭션"><a href="#코인베이스-트랜잭션" class="headerlink" title="코인베이스 트랜잭션"></a>코인베이스 트랜잭션</h2><p><img src="/img/contents/coinbase-transaction.png" srcset="/img/loading.gif" lazyload></p>
<p>코인 베이스 트랜잭션이란 블록마다 첫 번째 트랜잭션이며 비트코인을 발행하는 유일한 트랜잭션이다. 코인 베이스 트랜잭션은 몇가지 특징을 갖는다.</p>
<blockquote>
<ol>
<li>코인베이스 트랜잭션은 정확히 하나의 입력을 갖는다.</li>
<li>하나의 입력은 이전 트랜잭션 해시값으로 32바이트의 0(00..00)을 갖는다.</li>
<li>하나의 입력은 이전 트랜잭션의 출력 번호로 ffffffff를 갖는다.</li>
</ol>
</blockquote>
</br>

<h2 id="해제-스크립트"><a href="#해제-스크립트" class="headerlink" title="해제 스크립트"></a>해제 스크립트</h2><p>코인베이스 트랜잭션의 경우 이전 트랜잭션의 출력이 없기 때문에 입력의 해제 스크립트는 큰 의미가 없다. 코인베이스 트랜잭션의 경우 해제 스크립트는 트랜잭션을 만드는 채굴자가 결정한다. 해제 스크립트의 경우 임이의 데이터를 가지고 있는 경우가 있다. 다음은 최초 비트코인 블록체인 블록의 코인베이스 트랜잭션에 있는 해제 스크립트를 의미한다.</p>
<div class="code-wrapper"><pre><code class="hljs">&gt;&gt;&gt; from io import BytesIO
&gt;&gt;&gt; from script import Script
&gt;&gt;&gt; stream = BytesIO(bytes.fromhex(&#39;4d04ffff001d0104455468652054696d65732030332f4a616e2f32303039204368616e63656c6c6f72206f6e206272696e6b206f66207365636f6e64206261696c6f757420666f722062616e6b73&#39;))
&gt;&gt;&gt; s = Script.parse(stream)
&gt;&gt;&gt; print(s.cmds[2])
b &#39;The Times 03/Jan/2009 Chancellor on brink of second bailout for banks&#39;
</code></pre></div>
</br>

<h2 id="블록-헤더"><a href="#블록-헤더" class="headerlink" title="블록 헤더"></a>블록 헤더</h2><p><img src="/img/contents/block-header.png" srcset="/img/loading.gif" lazyload></p>
<p>블록이란 트랜잭션의 묶음을 의미하며 블록 헤더란 블록에 포함된 트랜잭션에 대한 메타 데이터를 의미한다. 대략 550,000개의 블록이 있을 경우 블록 헤더의 크기가 약 45MB였다. 트랜잭션 ID와 동일하게 블록의 고유성을 표현하기 위한 블록 ID가 존재한다. 블록 ID는 다음 블록 헤더의 이전 블록 해시값(prev_block) 필드로 들어간다.</p>
<blockquote>
<p>블록 버전(Version)<br>이전 블록 해시값(Previous block)<br>머클루트(Merkle root)<br>타임스탬프(Timestamp)<br>비트값(Bits)<br>논스값(Nonce)</p>
</blockquote>
<p>블록 헤더의 구성요소는 다음과 같으 형태로 이루어져 있다. 블록 버전의 경우는 블록에서 지원하는 소프트웨어 기능의 집합을 의미하며 이전 블록 해시값의 경우 이전 블록의 해시값을 의미한다. 머클루트란 블록 내 순서에 따라 나열된 모든 트랜잭션을 32바이트 해시값으로 변환한 값을 의미한다. 타임스탬프란 유닉스 형식으로 표현된 4바이트를 의미한다. 비트값은 작업증명에 관련된 필드이다. 논스 값은 작업증명을 위해 채굴자가 변경하는 값을 의미한다.</p>
</br>

<h2 id="작업-증명"><a href="#작업-증명" class="headerlink" title="작업 증명"></a>작업 증명</h2><p>비트코인에서 흔히 이야기하는 채굴이라는 말을 들어보았을 것이다. 채굴이란 작업 증명을 의미하며 작업증명으로 탈중앙화 방식의 비트코인 채굴이 가능해지며 전체 네트워크 수준에서의 비트코인의 보안이 유지된다. 작업증명이란 특정한 조건을 만족하는 매우 희소한 숫자를 찾는 것을 의미한다.</p>
<div class="code-wrapper"><pre><code class="hljs">020000208ec39428b17323fa0ddec8e887b4a7c53b8c0a0a220cfd0000000000000000005b0750fce0a889502d40508d39576821155
e9c9e3f5c3157f961db38fd8b25be1e77a759e93c0118a4ffd71d
</code></pre></div>
<p>상단의 기재된 블록헤더의 해시값을 통해 작업 증명을 수행해보도록 하면 다음과 같은 프로세스로 이루어진다.</p>
<div class="code-wrapper"><pre><code class="hljs">&gt;&gt;&gt; from helper import hash256
&gt;&gt;&gt; block_id = hash256(bytes.fromhex(&#39;020000208ec39428b17323fa0ddec8e887b4a7c53\
b8c0a0a220cfd0000000000000000005b0750fce0a889502d40508d39576821155e9c9e3f5c31\
57f961db38fd8b25be1e77a759e93c0118a4ffd71d&#39;))[::-1]
&gt;&gt;&gt; print(&#39;&#123;&#125;&#39;.format(block_id.hex()).zfill(64))
0000000000000000007e9e4c586439b0cdbe13b1370bdd9435d76a644d047523
</code></pre></div>
<p>일반적으로 무작위의 256비트 숫자의 해시결과가 작은값이 되기 위한 확률은 무수히 낮다. 256비트 숫자에서 첫 번째 비트가 0일 확률을 0.5이며 처음 두비트가 00일 확률은 0.25이다. 결과적으로 $0.5^n$의 확률이므로 작은 숫자일 수록 확률이 매우 낮아진다.</p>
<p>이러한 작업증명을 만족하는 조건을 이루기 위한 숫자는 논스값을 통해 얻을 수 있다. 채굴자의 경우 원하는 대로 논스값을 변경하여 블록 헤더의 해시값을 변경할 수 있다. 하지만 4바이트의 논스값의 경우 0.0003초만에 확인할 수 있기에 추가적으로 채굴자는 코인베이스 트랜잭션을 변경할 수 있어 머클루트가 변경되어 난이도가 더 어려워질 수 있다.</p>
</br>

<h3 id="목표값"><a href="#목표값" class="headerlink" title="목표값"></a>목표값</h3><p>작업증명의 요구사항은 비트코인의 모든 블록 헤더의 해시값이 특정 값보다 작아야 한다. 목표값은 블록 헤더의 비트값으로 계산된 256비트 숫자이다. 목표값은 4바이트로 이루어진 값이며 지수$^{exponent}$와 계수$^{coefficient}$로 나뉜다. 마지막 바이트의 경우가 지수이고 처음 세 바이트의 리틀엔디언 형식이 계수이다.</p>
</br>

<div class="code-wrapper"><pre><code class="hljs">target = coefficient x 256^(exponent-3)
</code></pre></div>
</br>

<div class="code-wrapper"><pre><code class="hljs">&gt;&gt;&gt; from helper import little_endian_to_int
&gt;&gt;&gt; bits = bytes.fromhex(&#39;e93c0118&#39;)
&gt;&gt;&gt; exponents = bits[-1]
&gt;&gt;&gt; coefficient = little_endian_to_int(bits[:-1])
&gt;&gt;&gt; target = coefficient * 256 ** (exponent - 3)
&gt;&gt;&gt; print(&#39;&#123;:x&#125;&#39;.format(target).zfill(64))
0000000000000000013ce9000000000000000000000000000000000000000000
</code></pre></div>
</br>

<h3 id="난이도-조정"><a href="#난이도-조정" class="headerlink" title="난이도 조정"></a>난이도 조정</h3><p>비트코인에서 2016블록의 각 그룹을 난이도 조정 기간 $^{difficulty \space adjustment \space period}$이라고 한다. 난이도 조정 기간이 끝나면 목표값은 다음 식에 따라 조정된다.</p>
</br>

<div class="code-wrapper"><pre><code class="hljs">time_differential = (난이도 조정 기간의 마지막 블록 타임스탬프) - (난이도 조정 기간의 첫 번째 블록 타임 스탬프)
</code></pre></div>
</br>

<div class="code-wrapper"><pre><code class="hljs">new_target = previous_target * time_differential / (2주간의 초 단위 시간)
</code></pre></div>
</br>

<div class="code-wrapper"><pre><code class="hljs">&gt;&gt;&gt; from block import Block
&gt;&gt;&gt; from helper import TWO_WEEKS
&gt;&gt;&gt; from helper import target_to_bits
&gt;&gt;&gt; block1_hex = &#39;000000203471101bbda3fe307664b3283a9ef0e97d9a38a7eacd88000000\
00000000000010c8aba8479bbaa5e0848152fd3c2289ca50e1c3e58c9a4faaafbdf5803c5448dd\
b845597e8b0118e43a81d3&#39;
&gt;&gt;&gt; block2_hex = &#39;02000020f1472d9db4b563c35f97c428ac903f23b7fc055d1cfc26000000\
000000000000b3f449fcbe1bc4cfbcb8283a0d2c037f961a3fdf2b8bedc144973735eea707e126\
4258597e8b0118e5f00474&#39;
&gt;&gt;&gt; last_block = Block.parse(BytesIO(bytes.fromhex(block1_hex)))
&gt;&gt;&gt; first_block = Block.parse(BytesIO(bytes.fromhex(block2_hex)))
&gt;&gt;&gt; time_differential = last_block.timestamp - first_block.timestamp
&gt;&gt;&gt; if time_differential &gt; TWO_WEEKS * 4:
...     time_differential = TWO_WEEKS * 4
&gt;&gt;&gt; if time_differential &lt; TWO_WEEKS // 4:
...     time_differential = TWO_WEEKS // 4
&gt;&gt;&gt; new_target = last_block.target() * time_differential // TWO_WEEKS
&gt;&gt;&gt; new_bits = target_to_bits(new_target)
&gt;&gt;&gt; print(new_bits.hex())
80df6217
</code></pre></div>
</br>

<h2 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h2><div class="code-wrapper"><pre><code class="hljs">Programming Bitcoin,밑바닥부터 시작하는 비트코인 (송재준 지음)
https://github.com/jimmysong/programmingbitcoin/blob/master/ch09.asciidoc
</code></pre></div>
</br>

<h2 id="한줄평"><a href="#한줄평" class="headerlink" title="한줄평"></a>한줄평</h2><div class="code-wrapper"><pre><code class="hljs">마음 급하지 않게 차분하게 꾸준히.
</code></pre></div>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Research/">Research</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/blockchain/">blockchain</a>
                    
                      <a class="hover-with-bg" href="/tags/block/">block</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/03/23/post08/">
                        <span class="hidden-mobile">[블록체인] p2sh 스크립트</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        loader: {
          load: ['ui/lazy']
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" ></script>

  











<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
