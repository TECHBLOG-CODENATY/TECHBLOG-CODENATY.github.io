

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="G4EG4EGAE">
  <meta name="keywords" content="">
  
    <meta name="description" content="[블록체인] 스크립트   서론비트코인의 경우 재화를 가지고 있는 소유권자와 재화를 전달받고자 하는 수신자에게 디지털 재화들이 전달되는 것이 구현되어야만 이는 재화로써의 유의미한 가치를 지니게 된다. 비트코인의 경우에도 이러한 형태들이 구현이 되어 있으며 이를 트랜잭션이라고 한다. 하지만 트랜잭션이 일어나기 위해서는 소유권자만이 본인이 가진 비트코인을 지급하">
<meta property="og:type" content="article">
<meta property="og:title" content="[블록체인] 스크립트">
<meta property="og:url" content="http://techblog.codenaty.io/2021/03/18/post06/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="[블록체인] 스크립트   서론비트코인의 경우 재화를 가지고 있는 소유권자와 재화를 전달받고자 하는 수신자에게 디지털 재화들이 전달되는 것이 구현되어야만 이는 재화로써의 유의미한 가치를 지니게 된다. 비트코인의 경우에도 이러한 형태들이 구현이 되어 있으며 이를 트랜잭션이라고 한다. 하지만 트랜잭션이 일어나기 위해서는 소유권자만이 본인이 가진 비트코인을 지급하">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://techblog.codenaty.io/img/contents/illon.jpg">
<meta property="article:published_time" content="2021-03-18T10:36:30.000Z">
<meta property="article:modified_time" content="2022-03-18T15:02:46.353Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="blockchain">
<meta property="article:tag" content="script">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://techblog.codenaty.io/img/contents/illon.jpg">
  
  
  <title>[블록체인] 스크립트 - Hexo</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"techblog.codenaty.io","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>CODENATY 기술 블로그</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="[블록체인] 스크립트">
              
            </span>

            
              <div class="mt-3">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-author" aria-hidden="true"></i>
      G4EG4EGAE
    </span>
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-03-18 19:36" pubdate>
        2021-03-18 19:03:00
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      3.1k words
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      27 minute
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">[블록체인] 스크립트</h1>
            
            <div class="markdown-body">
              <h2 id="블록체인-스크립트"><a href="#블록체인-스크립트" class="headerlink" title="[블록체인] 스크립트"></a>[블록체인] 스크립트</h2><p><img src="/img/contents/illon.jpg" srcset="/img/loading.gif" lazyload></p>
</br>

<h2 id="서론"><a href="#서론" class="headerlink" title="서론"></a>서론</h2><p>비트코인의 경우 재화를 가지고 있는 소유권자와 재화를 전달받고자 하는 수신자에게 디지털 재화들이 전달되는 것이 구현되어야만 이는 재화로써의 유의미한 가치를 지니게 된다. 비트코인의 경우에도 이러한 형태들이 구현이 되어 있으며 이를 트랜잭션이라고 한다. 하지만 트랜잭션이 일어나기 위해서는 소유권자만이 본인이 가진 비트코인을 지급하거나 전달할 수 있어야 한다. 결과적으로 잠금&#x2F;해제 매커니즘이 일어나야하며 이를 스마트 계약$_{smart contract}$라고 한다.</p>
</br>

<h2 id="스크립트"><a href="#스크립트" class="headerlink" title="스크립트"></a>스크립트</h2><p>스크립트란 비트코인에서 스마트 계약이 일어나기 위한 조건을 기술하는 프로그래밍 언어이다. 스크립트는 스택기반의 자료구조에서 일종의 로직을 수행하는 형태의 프로그램 언어이다. 스크립트는 일반적인 언어와 다르게 반복 작업을 위한 루프 기능이 없으며 튜링 불완전한 언어이다. 이는 잘못된 조건으로 인해서 루프를 빠져나오지 못할 경우 비트코인의 네트워크가 멈출 가능성이 있기 때문이다.</p>
<p>트랜잭션이 이뤄지기 위해서는 잠금 스크립트와 해제 스크립트가 필요하다. 즉, 해제 스크립트로 잠금 스크립트에 해당하는 금고의 소유권을 증명하고 돈을 사용할 수 있기 때문이다.</p>
</br>

<h2 id="스크립트-구조"><a href="#스크립트-구조" class="headerlink" title="스크립트 구조"></a>스크립트 구조</h2><p><img src="/img/contents/script.JPG" srcset="/img/loading.gif" lazyload></p>
<p>스크립트란 프로그래밍 언어이다. 스크립트는 스택을 기반으로 하나 하나를 처리하며 이와 유사한 형태는 나만의 해석으로 이야기하면 ROP$_{return oriented programming}$과 비슷한 형태의 느낌이였다. 스택에 쌓일 수 있는 두 가지 형태의 정보는 원소와 연산자이다. 원소는 프로그래밍 언어에서 함수의 파라미터라고 해석하는 것이 이해하기 쉬우며 연산자는 원소를 기반으로 로직을 수행하는 어셈블리 명령어라고 생각하면 이해하기 편할 것이다.</p>
<p>정리를 위해서 상단의 그림을 예시로 설명하도록 하겠다. 스크립트 해석 엔진은 스크립트를 스택처럼 생각하며 최상단에서 원소일 경우 추출하여, 스택에 담는다. 결과적으로 5, 9의 경우 스택에 역순으로 담기며 해당 시점에서 스크립트에서 명령어 OP_ADD를 만날 경우 스택 최상단에 담긴 원소의 값에 대해서 가산연산을 수행한다. 결과적으로 스택에 담긴 값은 14가 될 수 있다.</p>
</br>


<h2 id="스크립트-파싱"><a href="#스크립트-파싱" class="headerlink" title="스크립트 파싱"></a>스크립트 파싱</h2><p><img src="/img/contents/OPCODE_sample.JPG" srcset="/img/loading.gif" lazyload></p>
<p>스크립트 기반의 언어를 해석하기 위해서는 일종의 규칙이 필요하다. 이에 대해서 상세히 기재하려고 한다. 스크립트 최상단의 한 바이트의 값이 n이며 해당 값이 0x01 ~ 0x4b(1~75)일 경우는 n바이트 길이만큼 이어서 읽은 후 숫자를 한 원소로 간주한다. 그렇지 않을 경우는 해당 바이트는 명령어를 의미하는 오피 코드이다.</p>
<p>오피 코드의 경우는 예시로 스택의 최상단의 원소를 복사하는 경우와 같이 각 정의된 숫자별로 수행하는 동작이 다르다. 이에 대한 상세한 오피코드의 경우 <a target="_blank" rel="noopener" href="https://en.bitcoin.it/wiki/Script">https://en.bitcoin.it/wiki/Script</a> 다음의 페이지에서 정의되어 있으며 이를 통해서 확인할 수 있다.</p>
<p>주요한 오피 코드 중 하나인 OP_CHECKSIC는 스택 위의 2개의 원소를 가져와서 첫 번째 원소는 공개키로, 두 번째 원소는 서명으로 간주하여 서명을 공개키로 검증한다. 검증에 대해서 성공할 경우 1, 실패할 경우 0을 스택에 최상단에 올린다. 이는 잠금&#x2F;해제 스크립트를 활용하는 데 주요한 역할을 하니 꼭 기억해두어야 한다.</p>
</br>


<h2 id="잠금-x2F-해제-스크립트의-결합"><a href="#잠금-x2F-해제-스크립트의-결합" class="headerlink" title="잠금&#x2F;해제 스크립트의 결합"></a>잠금&#x2F;해제 스크립트의 결합</h2><p><img src="/img/contents/combine-script.png" srcset="/img/loading.gif" lazyload></p>
<p>트랜잭션이 실행되기 위해서는 잠금 스크립트(ScriptPubKey)와 해제 스크립트(ScriptSig)가 결합되어 실행되어야 만 한다. 잠금 스크립트와 해제 스크립트는 서로 다른 트랜젝션에 있다. 상단의 그림과 같은 형태로 참조하여 잠금&#x2F;해제 스크립트를 결합한 결합 스크립트를 만들 수 있다.</p>
</br>

<h2 id="표준-스크립트"><a href="#표준-스크립트" class="headerlink" title="표준 스크립트"></a>표준 스크립트</h2><p>일반적으로 많이 사용되는 패턴의 로직이 함수화되어 있는 것과 같이 스크립트 또한 패턴화 되어 있는 표준을 정의한 형태의 스크립트가 존재한다. 이를 표준 스크립트라고 하며 다음과 같은 예시를 들 수 있다.</p>
<blockquote>
<p>p2pk: Pay-to-pubkey<br>p2pkh: Pay-to-pubkey-hash<br>p2sh: Pay-to-script-hash<br>p2wpkh: Pay-to-witness-pubkey-hash<br>p2wsh: Pay-to-witness-script-hash</p>
</blockquote>
<p>자세한 스크립트의 패턴화되어 있는 경우는 보다 구체적으로 설명하도록 하겠다.</p>
</br>

<h2 id="p2pk-스크립트"><a href="#p2pk-스크립트" class="headerlink" title="p2pk 스크립트"></a>p2pk 스크립트</h2><p>비트코인 트랜잭션이 수행하기 위해서는 잠금 스크립트(ScriptPubKey)와 해제 스크립트(ScriptSig)가 결합하여 해제가 수행되어야 한다는 사실을 알았다. 비밀키 소유자는 서명을 통해 비트코인을 해제하고 사용할 수 있으며, 트랜잭션의 잠금 스크립트는 비밀키 소유자만 할당된 비트코인에 접근할 수 있도록 잠근다.</p>
<p><img src="/img/contents/ScriptPubKey.jpg" srcset="/img/loading.gif" lazyload alt="p2pk 잠금 스크립트(ScriptPubKey)"></p>
<p>다음의 경우는 p2pk 형식의 잠금 스크립트를 의미한다. 마지막 부분에 OP_CHECKSIG를 통해서 서명의 유효성을 검증한다.</p>
</br>


<p><img src="/img/contents/ScriptSig.jpg" srcset="/img/loading.gif" lazyload alt="p2pk 해제 스크립트(ScriptSig)"></p>
<p>다음의 경우는 p2pk 형식의 해제 스크립트를 의미한다.</p>
</br>

</br>

<p><img src="/img/contents/combine-script-stack.jpg" srcset="/img/loading.gif" lazyload alt="잠금-해제 결합 스크립트1"></p>
<p>잠금 스크립트(ScriptPubkey)와 해제 스크립트(ScriptSig)가 결합된 형태는 상단의 그림과 같다.</p>
</br>

</br>

<p><img src="/img/contents/execute-script.png" srcset="/img/loading.gif" lazyload alt="잠금-해제 결합 스크립트3"></p>
<p>스크립트 내부에서 하나의 원소를 추출하며 다음과 같은 형태의 스택 구성이 된다. 결과적으로 OP_CHECKSIG가 수행되는 경우 공개키와 서명을 통해 검증이 이루어진 경우 결과가 1이 되어 스택이 남게되며 실패할 경우 0이 스택에 남게된다.</p>
<p>P2PK의 스크립트는 몇 가지 문제점을 가지고 있다. 공개키의 길이가 길어 가독성이 떨어지며 메모리 자원과 인덱싱을 위한 계산 자원을 차지하여 풀 노드에게 부담이 된다. 또한 공개키가 공개된 잠금 스크립트 안에 있다. ECDSA의 암호 체계가 깨진다면 위험할 수 있다. 결과적으로 추가적인 보호장치를 마련하면 보다 좋은 스크립트 형식을 산출할 수 있다.</p>
</br>


<h2 id="p2pkh-스크립트"><a href="#p2pkh-스크립트" class="headerlink" title="p2pkh 스크립트"></a>p2pkh 스크립트</h2><p>p2pkh(Pay-to-pubkey-hash) 스크립트는 p2pk의 문제점을 보완한 형태의 스크립트이다.</p>
<blockquote>
<ol>
<li>짧은 주소 사용</li>
<li>sha256과 ripemd160 해시함수에 의한 추가적인 보호 장치 추가</li>
</ol>
</blockquote>
<p>sha256 해시값과 ripemd160 해시값을 활용하는 형태를 hash160 해시값이다. hash160 해시값은 160비트 20바이트 형태의 값이다. </p>
<p><img src="/img/contents/p2pkh-lock.png" srcset="/img/loading.gif" lazyload alt="p2pkh 잠금 스크립트"></p>
<p>P2PKH 잠금 스크립트의 예시이다.</p>
</br>

<p><img src="/img/contents/p2pkh-unlock.jpg" srcset="/img/loading.gif" lazyload alt="p2pkh 해제 스크립트"></p>
<p>P2PKH 해제 스크립트의 예시이다.</p>
</br>


<p><img src="/img/contents/p2pkh-script.png" srcset="/img/loading.gif" lazyload alt="p2pkh 결합 스크립트"></p>
<p>P2PKH 결합 스크립트의 예시이다. 우측의 결합된 스크립트를 통해 스크립트 해석 엔진으로 순차적으로 해석할 경우 다음과 같은 형태로 이루어지게 된다.</p>
</br>


<blockquote>
<ol>
<li>Signature와 pubkey 순차로 스택에 쌓인다.</li>
<li>OP_DUP 명령어를 통해서 스택에 pubkey를 복사한다.</li>
<li>OP_HASH160 pubkey를 hash로 바꾼다.</li>
<li>Script에 hash를 스택에 쌓는다.</li>
<li>현재 상황에서는 스택에는 hash1, hash2가 위치하고 있고 OP_EQUALVERIFY를 통해 두 해시값이 동일한 지 검증한다.</li>
<li>검증이 완료될 경우 OP_CHECKSIG를 통해 pubkey와 signature를 통해 서명이 정상적인지 검증한다.</li>
</ol>
</blockquote>
</br>

<p>다음의 프로세스를 통해 p2pkh 스크립트의 검증이 이루어진다.</p>
</br>


<h2 id="비표준-스크립트"><a href="#비표준-스크립트" class="headerlink" title="비표준 스크립트"></a>비표준 스크립트</h2><p><img src="/img/contents/unstandard-script.jpg" srcset="/img/loading.gif" lazyload alt="비표준 스크립트"></p>
<p>스크립트의 경우 꼭 표준 스크립트만 사용해야 하는 경우가 아니다. 튜링 완전하진 않지만 프로그래밍 언어의 특성을 가지고 있기 때문에 자유도가 높다. 그러한 이유로 표준 형태의 스크립트만 사용할 수 있는 것은 아니다.</p>
<p>상단의 스크립트를 해석해보면 다음과 같은 프로세스로 이루어진다.</p>
<blockquote>
<ol>
<li>OP_4와 OP_5를 통해 스택에 4와 5를 순차적으로 쌓는다.</li>
<li>4와 5를 통해 OP_ADD 연산자를 통해 더한다. 이를 통해 스택에 9가 남는다.</li>
<li>OP_9를 통해 스택에 두 개의 9가 남는다.</li>
<li>OP_EQUAL을 통해 9와 9를 비교하여 1이 산출된다.</li>
</ol>
</blockquote>
</br>

<p>다음을 통해 스크립트가 어떤 일을 하는 지 파악할 수 있다.</p>
<blockquote>
<p>OP_2DUP<br>OP_EQUAL<br>OP_NOT<br>OP_VERIFY<br>OP_SHA1<br>OP_SWAP<br>OP_SHA1<br>OP_EQUAL</p>
</blockquote>
<p>다음은 $x \neq y$ 이며 $sha1(x) &#x3D; sha1(y)$ 인 $(x, y)$를 찾는 형태이다. 즉 SHA-1에 대한 해시충돌을 찾는 것이다. 이러한 형태로 비표준 스크립트를 정의할 수 있다.</p>
</br>


<h2 id="한줄평"><a href="#한줄평" class="headerlink" title="한줄평"></a>한줄평</h2><div class="code-wrapper"><pre><code class="hljs">ROP 몰랐으면 절었다.
</code></pre></div>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Research/">Research</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/blockchain/">blockchain</a>
                    
                      <a class="hover-with-bg" href="/tags/script/">script</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/03/17/post05/">
                        <span class="hidden-mobile">[블록체인] 트랜잭션</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        loader: {
          load: ['ui/lazy']
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" ></script>

  











<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
